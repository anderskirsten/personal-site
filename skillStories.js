const skillStories = {
    ssOne : {
        ssID : "comm1",
        thumbTitle : "Communications Hub",
        headline : "I am the communications hub.",
        storyContent : "<p>Under the Kimpton umbrella, I led daily standup meetings with our team to clarify goals, address blockers and motivate success. Teams grew closer with both formal and informal discussions being held during these short daily meetings. As a result, we saw increased satisfaction for both team members and clients.</p>"
    },
    
    ssTwo : {
        ssID : "comm2",
        thumbTitle : "Communications Hub",
        headline : "I am the communications hub.",
        storyContent : "<p>At Kimpton, I managed 200+ projects in a calendar year. For each of those, I was the primary contact for the client and would be responsible for working with them to determine requirements and satisfaction from start to finish. I would act as point for any third party vendor relationships to acquire necessary resources for the project and would work with all internal teams and departments to plan and actualize the project deliverables.</p> <p>I was responsible for all project reporting, changes and documentation including dissemination to stakeholders at all levels of the organization as appropriate. I also created, negotiated and signed client contracts, coordinated billing with our accounting department and archived all documentation and lessons learned during the life of the project.</p>"
    },
    
    ssThree : {
        ssID: "inno1",
        thumbTitle : "Innovator",
        headline : "Historically, I have been unafraid to create new systems to generate buy-in and motivation.",
        storyContent : "<p>In high school, I was the captain of a dance team type group. While much of the group’s needs were funded by the school, there were still lots of expenses each member was personally responsible for, like special trips, group meals, etc. While it’s traditional for fundraising groups to hold a car wash, our members had a wide range of economic backgrounds and many individuals were feeling unmotivated by the idea of showing up to work hard and then not seeing any direct benefit with the funds going to the entire group.</p> <p>Rather than enforcing participation or risk having no one show up to work the wash, I instituted a system where funds raised at each wash were used proportionately for each individual based on when and how long they worked. Buy in and motivation to attend and work hard went through the roof. Members who didn’t need the extra funds weren’t forced to participate. However, many individuals were glad to work at the washes and see the direct benefit with their account balances and the application of those funds to the things they most wanted - to be a part of the group and have fun without hardship.</p>"
    },
    
    ssFour : {
        ssID : "inno2",
        thumbTitle : "Innovator",
        headline : "Historically, I have been unafraid to create new systems to generate buy-in and motivation.",
        storyContent : "<p>At the initial swell of the gourmet donut craze, I launched a small donut company in Chicago. While I didn’t end up pursuing it long term, I learned a ton and had great fun.</p> <p>One of the ways I got grocers and coffee shops to buy-in and try out my products was with a two-option purchase program. Small business owners often don’t have a lot of room for risks. By offering them options, they got to be in control of their own risk-reward ratio. They could either pay a lower price for each donut and take the risk of not selling out, thereby increasing their profit margin, but also risking a loss due to unsold product. Or, they could pay a higher price per donut in exchange for me not charging them at all for any unsold product - eliminating their risk in exchange for a lesser profit.</p> <p>This strategic move allowed me to get my product into the public eye, creating a buzz that earned me many private direct orders, an offer to be carried in all Chicago Whole Foods locations and a bevy of great press, including a cover story in the Sun Times food section and a nod as one of the top ten donuts in the country by Maxim Magazine.</p>"
    },
    
    ssFive : {
        ssID : "inno3",
        thumbTitle : "Innovator",
        headline : "Historically, I have been unafraid to create new systems to generate buy-in and motivation.",
        storyContent : "<p>When I took on my last role at Kimpton, there was a serious lack of buy-in from the local leadership and team. They were used to the projects instituted by my predecessors, which were few and far between, generally unprofitable and always a distraction from their other more rewarding, and therefore more important, operational work. Expectations were low.</p> <p>While it took a lot of hard work and didn’t happen overnight, a steady application of try hard, listen and adapt turned the situation around completely. Individual team members, who previously avoided getting assigned to this project type, were showing up in my office and asking for dibs. Local leadership began to take pride in the projects and realized project success led directly to personal bonus rewards. In less than 6 months, I received a 30% increase in my base salary and went on to beat budgeted revenue projections by 100% the following calendar year.</p>"
    },
    
    ssSix : {
        ssID : "tech1",
        thumbTitle : "Tech Enthusiast",
        headline : "I am an early and eager adopter of software tools and technology.",
        storyContent : "<p>During my initial tenure at Kimpton, we adopted a new HR system. Co-managing a team of 30+ individuals, I was responsible for utilizing the system for hiring, employee reviews, scheduling, PTO and payroll. Although, the system was not tailored to our industry, I quickly learned the user interface and found prouctive work-arounds. My reputation for finding these solutions extended to the region, with accounting clerks, sister outlet managers and even senior management asking about and adopting my processes.</p>"
    },
    
    ssSeven : {
        ssID : "tech2",
        thumbTitle : "Tech Enthusiast",
        headline : "I am an early and eager adopter of software tools and technology.",
        storyContent : "<p>While at Kimpton, I was required, along with all my regional peers, to provide a monthly report to our senior management and sales team. As the report accessed multiple software programs and was then formatted via a macro in Excel, the process to create it could be somewhat confusing.<p> </p>As a result, each month I would receive several calls from colleagues who could not recall how to successfully generate the report. After this happened regularly for a few months, I created a wiki for this specific purpose and shared it with the regional team. While I still fielded a call here and there, this document was adopted and added to the organization’s process assets, available to assist many managers and provide reporting consistency across the region.</p>"
    },
    
    ssEight : {
        ssID : "tech3",
        thumbTitle : "Tech Enthusiast",
        headline : "I am an early and eager adopter of software tools and technology.",
        storyContent : "<p>While at Kimpton, the organization adopted a third party software system designed to allow visual planning and direct interaction with clients for a specific sector of our business. My job was varied, so only a portion of my work involved using this system. However, I found it added a huge amount of value for both our internal team as well as our clients. I used it on every appropriate project as it eliminated confusion over certain requirements and greatly heightened our client’s clarity of expectations and final satisfaction with the project deliverables.</p> <p>Within our region, I had the smallest opportunity to use this software compared to my colleagues. Approximately a year after adopting this software, I was contacted by the software company who requested I complete a project for them. Their reasoning was based on my adoption of their software. They explained to me that I was their most consistent and largest volume user within my company, which made them want to work with me over any of our other outlets. My adoption of this software not only helped me, my team and my clients, but also brought increased revenue - along with the opportunity to work more closely with this vendor, as they were more than happy to customize certain features for me, one of their most prolific users.</p>"
    },
    
    ssNine : {
        ssID : "prob1",
        thumbTitle : "Problem Solver",
        headline : "My commitment to solving problems and getting results is total.",
        storyContent : "<p>In my first managerial role at Kimpton, I assisted in creating events to further the organization’s strategic goals. Within this context, the team realized we lacked the resources to create appropriate event marketing materials. Working with leadership, I requested a low level investment of graphic design software and took on the task of creating marketing collateral, in addition to all my existing responsibilities. After demonstrating the need and success of this initiative, a professional graphic designer was put on retainer for the region’s use and I was able to transfer those duties to him, returning my full attention to other aspects of the organization’s needs.</p>"
    },
    
    ssTen : {
        ssID: "prob2",
        thumbTitle : "Problem Solver",
        headline : "My commitment to solving problems and getting results is total.",
        storyContent : "<p>As Kimpton is a large company with many outlets, each with unique needs, I had the opportunity to spend two weeks at one of our California locations, stepping in to assist a team who had lost both of its managers within a 4 week span. I was the third or fourth band-aid manager, aka consultant, to arrive on site and the local team was feeling abandoned and lacked motivation, with negative feelings running rampant. The one remaining on-site leader was feeling overwhelmed and hopeless, without the capacity or expertise to take on the tasks of the two missing managers. Each visiting consultant prior to me had done what they could to keep things from getting worse, but hadn’t invested in actually improving the situation for the local team.</p> <p>On arrival, I jumped in with both feet, putting in countless hours and energy to revitalize the team and the business. Attacking each abandoned task with gusto, insisting on facetime with individual team members, as well as daily standups with the local team and remaining on-site leader, I showed the team they were not abandoned and empowered them to be positive and provide our clients with great results. While on-site, a permanent leader was hired and I had the privilege of transitioning him into the team as well as providing a small amount of support via phone and email even after my departure.</p> <p>The local leadership expressed that I had accomplished more in two weeks than had been done in the last year and the regional director offered me a job on the spot. Though I had no desire to relocate to the west coast, the opportunity to help this team rekindle their positivity and productivity was incredibly rewarding.</p>"
    }
}

const skillScroll = document.getElementById("skillscroll");
const modal = document.getElementById("storyModal");
const storyHeadline = document.getElementById("storyHeader");
const storyContent = document.getElementById("storyContent");
const closeBtn = document.getElementById("closeBtn");

//convert nested skillStories object to array and randomize
const shuffleStories = function(skillStories) {
    //convert object to array with only id and thumbtitle for each story object
    let i, storyObj;
    let storyArray = [];
    for (i in skillStories) {
        let story = skillStories[i];
        storyObj = {id: story.ssID, thumbTitle: story.thumbTitle}
        storyArray.push(storyObj);
    }
    //now randomize the index
    let currentIndex = storyArray.length
    let tempValue, randomIndex;
    while (0 !== currentIndex) {
        randomIndex = Math.floor((Math.random() * currentIndex));
        currentIndex -= 1;
        
        tempValue = storyArray[currentIndex];
        storyArray[currentIndex] = storyArray[randomIndex];
		storyArray[randomIndex] = tempValue;
    }
    return storyArray;
}

//builds individual story bubble
const buildLi = function(skillScroll, story) {
    let li = document.createElement("li");
    li.setAttribute("id", story.id);
    li.innerHTML = "<button id='" + story.id + "' onClick='modalOpen(this.id)'>" + story.thumbTitle + " </button>";
    skillScroll.appendChild(li);
}

//builds ul of story bubbles by iterating through skillStories object
const buildSkills = function(skillStories) {
    let storyArray = shuffleStories(skillStories);
    let i;
    for (i in storyArray) {
        let story = storyArray[i];
        buildLi(skillScroll, story)
    }
}

buildSkills(skillStories);

//Modal functions below

//set modal content if id matches clicked story bubble
const buildModal = function(skillStories, id) {
    let i;
    for (i in skillStories) {
        let story = skillStories[i];
        if (story.ssID == id) {
            storyHeadline.innerHTML = story.headline;
            storyContent.innerHTML = story.storyContent; 
        }
    }
}

//set modal content and make visible
const modalOpen = function(id) {
    buildModal(skillStories, id);
    modal.style.display = "block";
}

//close modal
closeBtn.onclick = function() {
    modal.style.display = "none";
}

//next step: fix images(coral?) and add media queries(660) as needed 
